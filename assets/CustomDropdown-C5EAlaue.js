import{r as p,j as t}from"./index-DJTMSaIU.js";import{c as I}from"./createLucideIcon-D3XSCUrN.js";import{C as E}from"./calendar-C-Fi1QuP.js";const L=I("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),P=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function T({value:f,onChange:D,minDate:c,maxDate:d}){const[o,x]=p.useState(()=>{if(f)return new Date(f);const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}),[w,j]=p.useState(f?new Date(f):null),[g,h]=p.useState(!1),[i,v]=p.useState(!1),b=["January","February","March","April","May","June","July","August","September","October","November","December"],M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),u=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),y=e=>{const n=a=>{const l=new Date(a);return l.setHours(0,0,0,0),l},s=n(e);if(c){const a=n(c);if(s<a)return!0}if(d){const a=n(d);if(s>a)return!0}return!1},k=(e,n)=>!e||!n?!1:e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear(),N=e=>{const n=new Date(o.getFullYear(),o.getMonth(),e);y(n)||(j(n),D(n))},Y=e=>{x(n=>{const s=new Date(n);return s.setMonth(n.getMonth()+e),s})},m=e=>{const n=new Date(o);if(n.setMonth(o.getMonth()+e),c){const s=new Date(c);if(e<0){const a=new Date(n.getFullYear(),n.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth(),1);if(a<l)return!1}}if(d){const s=new Date(d);if(e>0){const a=new Date(n.getFullYear(),n.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth(),1);if(a>l)return!1}}return!0},O=e=>{x(n=>{const s=new Date(n);return s.setMonth(e),s}),h(!1)},C=e=>{x(n=>{const s=new Date(n);return s.setFullYear(e),s}),v(!1)},F=()=>{const e=new Date().getFullYear();let n,s;if(c){const l=new Date(c).getFullYear(),S=new Date;new Date(c)>S?(n=l,s=e+10):(n=e-100,s=e+10)}else n=e-100,s=e-12;if(d){const l=new Date(d).getFullYear();if(s=Math.min(s,l),c){const S=new Date(c).getFullYear();n=Math.max(n,S)}}const a=[];for(let l=n;l<=s;l++)a.push(l);return n<e-50?a.reverse():a},$=()=>{const e=r(o),n=u(o),s=[];for(let a=0;a<n;a++)s.push(t.jsx("div",{className:"calendar-day empty"},`empty-${a}`));for(let a=1;a<=e;a++){const l=new Date(o.getFullYear(),o.getMonth(),a),S=k(l,w),R=y(l),z=k(l,new Date);s.push(t.jsx("div",{className:`calendar-day ${S?"selected":""} ${R?"disabled":""} ${z?"today":""}`,onClick:()=>N(a),children:a},a))}return s};return t.jsxs("div",{className:"minimal-calendar",children:[t.jsxs("div",{className:"calendar-header",children:[t.jsx("div",{className:"calendar-nav",children:t.jsx("button",{type:"button",className:`nav-button ${m(-1)?"":"disabled"}`,onClick:()=>m(-1)&&Y(-1),disabled:!m(-1),children:t.jsx(L,{size:16})})}),t.jsx("div",{className:"calendar-title",children:t.jsxs("div",{className:"month-year-selectors",children:[t.jsx("button",{type:"button",className:"month-selector",onClick:()=>{h(!g),v(!1)},children:b[o.getMonth()]}),t.jsx("button",{type:"button",className:"year-selector",onClick:()=>{v(!i),h(!1)},children:o.getFullYear()})]})}),t.jsx("div",{className:"calendar-nav",children:t.jsx("button",{type:"button",className:`nav-button ${m(1)?"":"disabled"}`,onClick:()=>m(1)&&Y(1),disabled:!m(1),children:t.jsx(P,{size:16})})})]}),g&&t.jsx("div",{className:"picker-dropdown month-picker",children:t.jsx("div",{className:"picker-grid",children:b.map((e,n)=>{let s=!1;if(c&&!s){const a=new Date(c);o.getFullYear()===a.getFullYear()&&(s=n<a.getMonth()),o.getFullYear()<a.getFullYear()&&(s=!0)}if(d&&!s){const a=new Date(d);o.getFullYear()===a.getFullYear()&&(s=n>a.getMonth()),o.getFullYear()>a.getFullYear()&&(s=!0)}return t.jsx("button",{type:"button",className:`picker-item ${o.getMonth()===n?"active":""} ${s?"disabled":""}`,onClick:()=>!s&&O(n),disabled:s,children:e.substring(0,3)},e)})})}),i&&t.jsx("div",{className:"picker-dropdown year-picker",children:t.jsx("div",{className:"picker-scroll",children:F().map(e=>t.jsx("button",{type:"button",className:`picker-item ${o.getFullYear()===e?"active":""}`,onClick:()=>C(e),children:e},e))})}),t.jsx("div",{className:"calendar-weekdays",children:M.map(e=>t.jsx("div",{className:"weekday",children:e},e))}),t.jsx("div",{className:"calendar-grid",children:$()}),t.jsx("div",{className:"calendar-footer",children:t.jsx("button",{type:"button",className:"confirm-button",onClick:()=>{w&&D(w)},disabled:!w,children:"Confirm"})})]})}function H({value:f,onChange:D,name:c,className:d="",error:o=!1,min:x,max:w,placeholder:j="Select date"}){const[g,h]=p.useState(!1),[i,v]=p.useState(f?new Date(f):null),b=r=>{v(r);const u=r.getFullYear(),y=String(r.getMonth()+1).padStart(2,"0"),k=String(r.getDate()).padStart(2,"0"),N=`${u}-${y}-${k}`;D({target:{name:c,value:N}}),h(!1)},M=r=>r?new Date(r).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}):"";return t.jsxs("div",{className:"date-picker-container",children:[t.jsxs("div",{className:`form-input date-picker-input ${o?"input-error":""} ${d}`,onClick:()=>h(!g),children:[t.jsx("span",{className:i?"date-selected":"date-placeholder",children:i?M(i):j}),t.jsx(E,{size:20,className:"date-picker-icon"})]}),g&&t.jsx("div",{className:"date-picker-overlay",onClick:()=>h(!1),children:t.jsxs("div",{className:"date-picker-modal",onClick:r=>r.stopPropagation(),children:[t.jsxs("div",{className:"date-picker-header",children:[t.jsx("h3",{children:"Select Date"}),t.jsx("button",{type:"button",className:"date-picker-close",onClick:()=>h(!1),children:"Ã—"})]}),t.jsx(T,{value:i,onChange:b,minDate:x,maxDate:w,onClose:()=>h(!1)})]})})]})}function J({name:f,value:D,onChange:c,options:d,placeholder:o,className:x,error:w}){const[j,g]=p.useState(!1),h=p.useRef(null),i=p.useRef(null);p.useEffect(()=>{const r=u=>{i.current&&!i.current.contains(u.target)&&g(!1)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]);const v=(r,u)=>{u&&(u.preventDefault(),u.stopPropagation()),c({target:{name:f,value:r}}),g(!1),setTimeout(()=>{if(i.current){const y=i.current.closest("form"),k=y?Array.from(y.querySelectorAll(".input-group")):[],N=i.current.closest(".input-group"),Y=k.indexOf(N),m=k[Y+1];m&&setTimeout(()=>{const C=m.getBoundingClientRect().top+window.scrollY,F=window.innerHeight,$=C-F*.2;window.scrollTo({top:Math.max(0,$),behavior:"smooth"});const e=m.querySelector("input, textarea, .custom-dropdown");e&&!e.disabled&&setTimeout(()=>{(e.classList&&e.classList.contains("custom-dropdown")||e.focus)&&e.focus()},400)},50)}},100)},b=d.find(r=>r.value===D),M=r=>{r.preventDefault(),r.stopPropagation(),g(!j)};return t.jsxs("div",{className:"custom-dropdown-wrapper",ref:i,children:[t.jsxs("div",{ref:h,className:`custom-dropdown ${x} ${w?"input-error":""} ${j?"open":""}`,onClick:M,children:[t.jsx("span",{className:"custom-dropdown-selected",children:b?b.label:o}),t.jsx("span",{className:"custom-dropdown-arrow",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"6,9 12,15 18,9"})})})]}),j&&t.jsx("div",{className:"custom-dropdown-options",children:d.map(r=>t.jsx("div",{className:`custom-dropdown-option ${D===r.value?"selected":""} ${r.description?"has-description":""}`,onClick:u=>v(r.value,u),onMouseDown:u=>u.preventDefault(),children:t.jsxs("div",{className:"option-content",children:[t.jsx("div",{className:"option-label",children:r.label}),r.description&&t.jsx("div",{className:"option-description",children:r.description})]})},r.value))})]})}export{J as C,H as D};
